graph spu32soc {
	graph [splines=ortho, nodesep=0.4]

	cpu[label="CPU\nRISC-V ISA\nRV32I" shape="component"];
	arbiter[label="Wishbone bus, 8-bit data, 32-bit address, pipelined" shape="rect" width=14];

	ram[label="external SRAM\nor\nBlock-RAM" shape="component"]
	brom[label="Boot-ROM\nreceives from UART\nor copies SPI-data to RAM" shape="component"];
	spi[label="SPI port" shape="component"];
	uart[label="UART\n115200 baud" shape="component"];
	timer[label="Timer\ncan generate interrupts" shape="component"];
	prng[label="PRNG\npredictable 'random' numbers" shape="component"];
	leds[label="Board LEDs" shape="component"];

	spiflash[label="SPI-EEPROM/Flash device\ncontains initial RAM contents\nprogrammable via Boot-ROM routines" shape="component"];

	cpu -- arbiter;

	arbiter -- ram;
	arbiter -- brom;
	arbiter -- spi;
	arbiter -- uart;
	arbiter -- timer;
	arbiter -- prng;
	arbiter -- leds;

	spi -- spiflash;
}
